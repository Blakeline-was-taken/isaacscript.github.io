"use strict";(self.webpackChunkisaacscript_github_io=self.webpackChunkisaacscript_github_io||[]).push([[342],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return m}});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=o.createContext({}),u=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=u(e.components);return o.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),d=u(n),m=r,h=d["".concat(l,".").concat(m)]||d[m]||p[m]||a;return n?o.createElement(h,i(i({ref:t},s),{},{components:n})):o.createElement(h,i({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=d;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:r,i[1]=c;for(var u=2;u<a;u++)i[u]=n[u];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2394:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return c},contentTitle:function(){return l},metadata:function(){return u},toc:function(){return s},default:function(){return d}});var o=n(7462),r=n(3366),a=(n(7294),n(3905)),i=["components"],c={title:"Converting Lua Code"},l=void 0,u={unversionedId:"converting-lua-code",id:"converting-lua-code",isDocsHomePage:!1,title:"Converting Lua Code",description:"Sometimes, you might want to convert an old mod written in Lua to TypeScript. There are two ways to do this.",source:"@site/docs/converting-lua-code.md",sourceDirName:".",slug:"/converting-lua-code",permalink:"/docs/converting-lua-code",editUrl:"https://github.com/IsaacScript/isaacscript.github.io/edit/main/docs/converting-lua-code.md",version:"current",frontMatter:{title:"Converting Lua Code"},sidebar:"sidebar",previous:{title:"Refactoring an Example Mod",permalink:"/docs/refactoring-mod"},next:{title:"Updating IsaacScript",permalink:"/docs/updating-isaacscript"}},s=[{value:"LuaToTypeScript",id:"luatotypescript",children:[]},{value:"Manually With a Macro",id:"manually-with-a-macro",children:[{value:"1) Install the ssmacro Extension",id:"1-install-the-ssmacro-extension",children:[]},{value:"2) Download the Macro",id:"2-download-the-macro",children:[]},{value:"3) Make a Keyboard Shortcut",id:"3-make-a-keyboard-shortcut",children:[]},{value:"4) Open a Lua File and Convert It",id:"4-open-a-lua-file-and-convert-it",children:[]},{value:"5) Copy It Over One Function at a Time",id:"5-copy-it-over-one-function-at-a-time",children:[]}]}],p={toc:s};function d(e){var t=e.components,n=(0,r.Z)(e,i);return(0,a.kt)("wrapper",(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Sometimes, you might want to convert an old mod written in Lua to TypeScript. There are two ways to do this."),(0,a.kt)("br",null),(0,a.kt)("h2",{id:"luatotypescript"},"LuaToTypeScript"),(0,a.kt)("p",null,"Hazzard993 wrote ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/hazzard993/LuaToTypeScript"},"a tool to automatically convert Lua to TypeScript"),". Unfortunately, this does not convert comments."),(0,a.kt)("br",null),(0,a.kt)("h2",{id:"manually-with-a-macro"},"Manually With a Macro"),(0,a.kt)("p",null,"If you want more fine-grained control over converting your code, then you can do it manually with a macro. Here's a quick tutorial to convert code using a simple macro."),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"1-install-the-ssmacro-extension"},"1) Install the ssmacro Extension"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://marketplace.visualstudio.com/items?itemName=joekon.ssmacro"},"ssmacro")," is a popular VSCode extension that allows you to make macros."),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"2-download-the-macro"},"2) Download the Macro"),(0,a.kt)("p",null,"I've written ",(0,a.kt)("a",{parentName:"p",href:"https://isaacscript.github.io/convert-lua-to-typescript.json"},"a short macro")," that does some basic conversions. For example, it converts ",(0,a.kt)("inlineCode",{parentName:"p"},"local")," to ",(0,a.kt)("inlineCode",{parentName:"p"},"let"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"and")," to ",(0,a.kt)("inlineCode",{parentName:"p"},"&&"),", and so forth. (Feel free to customize it to your liking.)"),(0,a.kt)("p",null,"Download it to the following directory: ",(0,a.kt)("inlineCode",{parentName:"p"},"C:\\Users\\[Username]\\.vscode\\extensions\\joekon.ssmacro-0.6.0\\macros")),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"3-make-a-keyboard-shortcut"},"3) Make a Keyboard Shortcut"),(0,a.kt)("p",null,"You can set up a keyboard shortcut to automatically execute the macro."),(0,a.kt)("p",null,'In VSCode, type Ctrl + Shift + P, then type in "Preferences: Open Keyboard Shortcuts (JSON)". Then, add a keybinding like so:'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsonc"},'// Place your key bindings in this file to override the defaults\n[\n  {\n    "key": "ctrl+shift+alt+v",\n    "command": "ssmacro.macro",\n    "args": { "file": "convert-lua-to-typescript.json" }\n  }\n]\n')),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"4-open-a-lua-file-and-convert-it"},"4) Open a Lua File and Convert It"),(0,a.kt)("p",null,"Open a big Lua file and use the hotkey to perform the replacements on everything in the file."),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"5-copy-it-over-one-function-at-a-time"},"5) Copy It Over One Function at a Time"),(0,a.kt)("p",null,"If we copy an entire file into our TypeScript project at once, then it will be kind of a mess and the auto-formatter won't work. Instead, just copy one function at a time into your TypeScript project, fix the errors, if any, and let the auto-formatter do the work of arranging everything properly."),(0,a.kt)("p",null,"A lot of the time, you won't be able to fix some of the errors, like functions not being declared yet. Just ignore those until you get everything copied over."))}d.isMDXComponent=!0}}]);